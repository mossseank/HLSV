language: cpp
dist: bionic
sudo: true
compiler: gcc
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-8
script:
  - export CC=gcc-8
  - export CXX=g++-8
  - g++-8 --version
  - cd ./grammar && chmod +x build.sh && ./build.sh
  - cd ../premake && chmod +x premake5_l
  - cd .. && chmod +x generate_project.sh && ./generate_project.sh
  - cd ./build
  - make -j2 config=static_x64 all
  - make -j2 config=shared_x64 all
